!function(){"use strict";const e="form_key",r="data-recaptcha-bound",t=function(t,n,o){(function(e){const r=`https://www.google.com/recaptcha/enterprise.js?render=${e}`,t=(e,r)=>{if(e.grecaptcha&&e.grecaptcha.enterprise&&e.grecaptcha.enterprise.ready)return e.grecaptcha.enterprise.ready((()=>r(e.grecaptcha.enterprise))),!0};return new Promise(((e,n)=>t(window,e)||function(e){return new Promise(((r,t)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.defer=!0,n.onload=r,n.onerror=e=>{var r;const n=new Error(`The captcha provider script ${(null==(r=null==e?void 0:e.target)?void 0:r.src)||""} didn't load correctly.`);t(n)},document.body.append(n)}))}(r).then((()=>{t(window,e)||n(new Error("recaptcha not available"))})).catch(n)))})(n).then((c=>function(t,n,o,c=!1){if(t&&!t.getAttribute(r)){if(!n||!n.execute)throw new Error("recaptcha is required");if(!o)throw new Error("siteKey is required");t.addEventListener("submit",(r=>{r.preventDefault(),r.stopPropagation(),c&&function(r,t=window.sessionStorage){try{const n=Array.from(Array(32),(()=>Math.random().toString(36)[2])).join("");!function(r,t){r.elements[e]||r.append(Object.assign(document.createElement("input"),{type:"hidden",name:e})),r.elements[e].value=t}(r,n),function(e,r,t=window.sessionStorage){const n={};for(const[o,c]of new FormData(e).entries())n[o]=c;t.setItem(r,JSON.stringify(n))}(r,n,t)}catch(n){console.error("failed to persist form",n)}}(t),n.execute(o,{action:t.elements.form_type.value}).then((e=>{const r="recaptcha-v3-token";t.elements[r]||t.append(Object.assign(document.createElement("input"),{type:"hidden",name:r})),t.elements[r].value=e,t.submit()})).catch((e=>{console.error("recaptcha error",e)}))})),t.setAttribute(r,!0)}}(t,c,n,o))).catch((e=>{console.error("recaptcha load error",e)}))};window.Shopify=window.Shopify||{},window.Shopify.ce_forms=window.Shopify.ce_forms||{},window.Shopify.ce_forms.bindForm=t,window.Shopify.ce_forms.q&&(window.Shopify.ce_forms.q.forEach((e=>t(...e))),delete window.Shopify.ce_forms.q)}();
